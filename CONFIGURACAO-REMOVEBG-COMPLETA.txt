================================================================================
CONFIGURA√á√ÉO COMPLETA - REMOVE.BG
================================================================================

‚úÖ MIGRA√á√ÉO DO CLOUDINARY PARA REMOVE.BG CONCLU√çDA!

================================================================================
PASSO 1: CONFIGURAR ARQUIVO .env.local (DESENVOLVIMENTO LOCAL)
================================================================================

Abra o arquivo .env.local na raiz do projeto e adicione esta linha:

# Remove.bg API Configuration
REMOVEBG_API_KEY=9eyfX7z4VUYxy679BCBYkrdv

Se voc√™ j√° tem um .env.local, apenas adicione a linha acima.
Se n√£o tem, crie o arquivo .env.local na raiz do projeto.

================================================================================
PASSO 2: CONFIGURAR BUCKET NO SUPABASE
================================================================================

1. Acesse: https://supabase.com ‚Üí Seu Projeto ‚Üí SQL Editor
2. Execute o SQL abaixo:

-- Criar bucket para imagens processadas
INSERT INTO storage.buckets (id, name, public)
VALUES ('processed-images', 'processed-images', true)
ON CONFLICT (id) DO NOTHING;

-- Pol√≠tica para permitir uploads autenticados
CREATE POLICY "Allow authenticated uploads to processed-images" ON storage.objects
FOR INSERT WITH CHECK (
  bucket_id = 'processed-images' AND 
  auth.role() = 'authenticated'
);

-- Pol√≠tica para permitir leitura p√∫blica
CREATE POLICY "Allow public read access to processed-images" ON storage.objects
FOR SELECT USING (bucket_id = 'processed-images');

-- Pol√≠tica para permitir atualiza√ß√µes (upsert)
CREATE POLICY "Allow authenticated updates to processed-images" ON storage.objects
FOR UPDATE USING (
  bucket_id = 'processed-images' AND 
  auth.role() = 'authenticated'
);

-- Pol√≠tica para permitir exclus√µes
CREATE POLICY "Allow authenticated deletes to processed-images" ON storage.objects
FOR DELETE USING (
  bucket_id = 'processed-images' AND 
  auth.role() = 'authenticated'
);

================================================================================
PASSO 3: CONFIGURAR NA VERCEL (PRODU√á√ÉO)
================================================================================

Acesse: https://vercel.com ‚Üí Seu Projeto ‚Üí Settings ‚Üí Environment Variables

Adicione esta vari√°vel:

Nome: REMOVEBG_API_KEY
Valor: 9eyfX7z4VUYxy679BCBYkrdv

‚ö†Ô∏è IMPORTANTE: Depois de adicionar, fa√ßa um REDEPLOY!

================================================================================
PASSO 4: REMOVER DEPEND√äNCIA DO CLOUDINARY
================================================================================

Execute no terminal:

npm uninstall cloudinary

================================================================================
PASSO 5: TESTAR CONFIGURA√á√ÉO
================================================================================

Execute no terminal:

node scripts/test-removebg-config.js

Se tudo estiver correto, voc√™ ver√°:
‚úÖ API key do remove.bg configurada
‚úÖ Todos os arquivos necess√°rios existem
‚úÖ Depend√™ncia do Cloudinary removida

================================================================================
VANTAGENS DA MIGRA√á√ÉO
================================================================================

‚úÖ Melhor qualidade de remo√ß√£o de fundo
‚úÖ Especializado apenas em remo√ß√£o de fundo
‚úÖ API mais simples e direta
‚úÖ Pre√ßos competitivos para uso espec√≠fico
‚úÖ Sem problemas de CORS (imagens salvas no Supabase)
‚úÖ Sem depend√™ncia do Cloudinary

================================================================================
FUNCIONALIDADES MANTIDAS
================================================================================

‚úÖ Upload de imagens
‚úÖ Remo√ß√£o de fundo
‚úÖ Preview modal
‚úÖ Rate limiting (2 por dia)
‚úÖ Cache de imagens
‚úÖ Valida√ß√£o de arquivos
‚úÖ Tratamento de erros
‚úÖ Interface do usu√°rio

================================================================================
TESTAR SE FUNCIONOU
================================================================================

1. Teste local:
   npm run dev
   Acesse: http://localhost:3000/dashboard
   Fa√ßa upload de uma imagem
   Clique em "Remover Fundo"

2. Teste produ√ß√£o (depois do deploy):
   Acesse: https://zagnfc.com.br/dashboard
   Teste a funcionalidade de remo√ß√£o de fundo

================================================================================
üéâ PRONTO! O REMOVE.BG EST√Å CONFIGURADO!
================================================================================

A migra√ß√£o do Cloudinary para o remove.bg foi conclu√≠da com sucesso!
Agora voc√™ tem melhor qualidade de remo√ß√£o de fundo sem problemas de CORS.
